import{K as w,b as S,r as d,p as A,j as e,N as D,B as n,W as C,C as a,H as h,X as j,M as b,G as i,Y as P,Z as _,F as L}from"./index-B2pVN_Qi.js";import{F as $}from"./file-text-DLv6_FBe.js";function F(){const{user:l,logout:g,isLoggedIn:N}=w(),[,p]=S(),[c,f]=d.useState("applications");if(!N||!l)return p("/login"),null;const o=d.useMemo(()=>JSON.parse(localStorage.getItem("choiceProperties_applications")||"[]"),[]),x=d.useMemo(()=>{const s=JSON.parse(localStorage.getItem("choiceProperties_favorites")||"[]");return A.filter(u=>s.includes(u.id))},[]),m=d.useMemo(()=>JSON.parse(localStorage.getItem("choiceProperties_savedSearches")||"[]"),[]),r={applications:o.length,favorites:x.length,savedSearches:m.length,approved:o.filter(s=>s.status==="approved").length},v=s=>{const t={pending:"bg-yellow-50 text-yellow-800 border-yellow-200",approved:"bg-green-50 text-green-800 border-green-200",rejected:"bg-red-50 text-red-800 border-red-200"};return t[s]||t.pending},y=s=>{const t={pending:"bg-yellow-100 text-yellow-800",approved:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800"};return t[s]||t.pending};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx(D,{}),e.jsx("div",{className:"bg-gradient-to-r from-primary to-secondary text-white py-12",children:e.jsxs("div",{className:"container mx-auto px-4 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold",children:"Your Dashboard"}),e.jsxs("p",{className:"text-white/80 mt-2",children:["Welcome back, ",l?.name,"!"]})]}),e.jsxs(n,{onClick:g,variant:"ghost",className:"text-white hover:bg-white/20",children:[e.jsx(C,{className:"h-5 w-5 mr-2"}),"Sign Out"]})]})}),e.jsx("div",{className:"container mx-auto px-4 -mt-8 relative z-10",children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs(a,{className:"p-4 bg-white",children:[e.jsx("p",{className:"text-gray-600 text-sm font-semibold",children:"Applications"}),e.jsx("p",{className:"text-3xl font-bold text-primary",children:r.applications}),e.jsxs("p",{className:"text-xs text-green-600 mt-1",children:[r.approved," approved"]})]}),e.jsxs(a,{className:"p-4 bg-white",children:[e.jsx("p",{className:"text-gray-600 text-sm font-semibold",children:"Saved Properties"}),e.jsx("p",{className:"text-3xl font-bold text-secondary",children:r.favorites}),e.jsx(h,{className:"h-4 w-4 text-red-500 mt-2"})]}),e.jsxs(a,{className:"p-4 bg-white",children:[e.jsx("p",{className:"text-gray-600 text-sm font-semibold",children:"Saved Searches"}),e.jsx("p",{className:"text-3xl font-bold text-blue-600",children:r.savedSearches}),e.jsx(j,{className:"h-4 w-4 text-blue-500 mt-2"})]}),e.jsxs(a,{className:"p-4 bg-white",children:[e.jsx("p",{className:"text-gray-600 text-sm font-semibold",children:"Member Since"}),e.jsx("p",{className:"text-lg font-bold text-gray-800",children:new Date(l.created_at||Date.now()).toLocaleDateString()})]})]})}),e.jsxs("div",{className:"container mx-auto px-4 mt-12 flex-1",children:[e.jsx("div",{className:"flex gap-2 mb-8 flex-wrap border-b",children:[{id:"applications",label:"My Applications",icon:"ðŸ“‹"},{id:"favorites",label:"Saved Properties",icon:"â¤ï¸"},{id:"searches",label:"Saved Searches",icon:"ðŸ”"},{id:"profile",label:"Profile",icon:"ðŸ‘¤"}].map(s=>e.jsxs("button",{onClick:()=>f(s.id),className:`px-4 py-3 font-semibold transition-all border-b-2 ${c===s.id?"border-b-primary text-primary":"border-b-transparent text-gray-600 hover:text-gray-900"}`,children:[s.icon," ",s.label]},s.id))}),c==="applications"&&e.jsx("div",{className:"space-y-4 pb-12",children:o.length===0?e.jsxs(a,{className:"p-12 text-center",children:[e.jsx($,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 font-semibold",children:"No applications yet"}),e.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Start your property search to apply for rentals"})]}):o.map((s,t)=>e.jsxs(a,{className:`p-6 border-l-4 ${v(s.status)}`,children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg text-gray-900",children:s.property_title}),e.jsxs("p",{className:"text-sm text-gray-600 flex items-center gap-1 mt-1",children:[e.jsx(b,{className:"h-4 w-4"}),s.property_address]})]}),e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${y(s.status)}`,children:s.status.charAt(0).toUpperCase()+s.status.slice(1)})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600",children:"Monthly Rent"}),e.jsxs("p",{className:"font-bold text-primary",children:["$",s.property_price?.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600",children:"Applied"}),e.jsx("p",{className:"font-semibold text-gray-800",children:new Date(s.submitted_at).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600",children:"Application Fee"}),e.jsxs("p",{className:"font-semibold text-gray-800",children:["$",s.application_fee||0]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600",children:"Status Since"}),e.jsx("p",{className:"font-semibold text-gray-800",children:new Date(s.status_updated_at).toLocaleDateString()})]})]}),s.notes&&e.jsxs("div",{className:"mt-4 p-3 bg-gray-100 rounded text-sm text-gray-700",children:[e.jsx("strong",{children:"Notes:"})," ",s.notes]})]},t))}),c==="favorites"&&e.jsx("div",{className:"space-y-4 pb-12",children:x.length===0?e.jsxs(a,{className:"p-12 text-center",children:[e.jsx(h,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 font-semibold",children:"No saved properties yet"}),e.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Heart your favorite properties to save them here"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:x.map(s=>e.jsxs(a,{className:"overflow-hidden hover:shadow-lg transition-shadow",children:[e.jsxs("div",{className:"aspect-video bg-gray-200 relative",children:[s.images&&s.images[0]&&e.jsx("img",{src:"https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=400&h=300&fit=crop",alt:s.title,className:"w-full h-full object-cover"}),e.jsx(i,{className:"absolute top-3 right-3 bg-primary",children:s.listing_type==="rent"?"ðŸ”‘ For Rent":"ðŸ  For Sale"})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"font-bold text-lg mb-1",children:s.title}),e.jsxs("p",{className:"text-sm text-gray-600 flex items-center gap-1 mb-3",children:[e.jsx(b,{className:"h-4 w-4"}),s.city,", ",s.state]}),e.jsxs("div",{className:"flex gap-4 mb-4 text-sm text-gray-700",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(P,{className:"h-4 w-4"})," ",s.bedrooms," bed"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(_,{className:"h-4 w-4"})," ",s.bathrooms," bath"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("p",{className:"font-bold text-primary text-lg",children:["$",s.price?.toLocaleString(),s.listing_type==="rent"&&e.jsx("span",{className:"text-sm text-gray-600",children:"/mo"})]}),e.jsx(h,{className:"h-5 w-5 fill-red-500 text-red-500"})]})]})]},s.id))})}),c==="searches"&&e.jsx("div",{className:"space-y-4 pb-12",children:m.length===0?e.jsxs(a,{className:"p-12 text-center",children:[e.jsx(j,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 font-semibold",children:"No saved searches yet"}),e.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Save your search filters to quickly revisit them"})]}):m.map((s,t)=>e.jsx(a,{className:"p-6",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-bold text-lg mb-2",children:s.name||`Search ${t+1}`}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.filters?.city&&e.jsx(i,{variant:"outline",children:s.filters.city}),s.filters?.minPrice&&e.jsxs(i,{variant:"outline",children:["$",s.filters.minPrice?.toLocaleString()," - $",s.filters.maxPrice?.toLocaleString()]}),s.filters?.bedrooms&&e.jsxs(i,{variant:"outline",children:[s.filters.bedrooms,"+ Beds"]}),s.filters?.type&&e.jsx(i,{variant:"outline",children:s.filters.type})]}),e.jsxs("p",{className:"text-xs text-gray-500 mt-3",children:["Saved: ",new Date(s.savedAt).toLocaleDateString()]})]}),e.jsx(n,{onClick:()=>p(`/properties?search=${t}`),className:"bg-primary",children:"View Results"})]})},t))}),c==="profile"&&e.jsx("div",{className:"max-w-2xl pb-12",children:e.jsxs(a,{className:"p-8",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-8 pb-8 border-b",children:[e.jsx("div",{className:"h-16 w-16 rounded-full bg-gradient-to-br from-primary to-secondary flex items-center justify-center text-white text-2xl font-bold",children:l?.name?.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:l?.name}),e.jsx("p",{className:"text-gray-600",children:l?.email})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-8",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-semibold",children:"Member Since"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900 mt-1",children:new Date(l.created_at||Date.now()).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-semibold",children:"Total Applications"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900 mt-1",children:r.applications})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-semibold",children:"Approved Applications"}),e.jsx("p",{className:"text-lg font-semibold text-green-600 mt-1",children:r.approved})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-semibold",children:"Saved Properties"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900 mt-1",children:r.favorites})]})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Account Status"}),e.jsx(i,{className:"bg-green-100 text-green-800",children:"Active"}),e.jsx("p",{className:"text-sm text-gray-700 mt-3",children:"Your account is in good standing. Continue exploring properties and applying to rentals."})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Account Actions"}),e.jsx(n,{variant:"outline",className:"w-full justify-start text-gray-700",children:"ðŸ“§ Change Email (Coming Soon)"}),e.jsx(n,{variant:"outline",className:"w-full justify-start text-gray-700",children:"ðŸ”’ Change Password (Coming Soon)"}),e.jsx(n,{onClick:g,variant:"outline",className:"w-full justify-start text-red-600 border-red-200 hover:bg-red-50",children:"ðŸšª Sign Out"})]})]})})]}),e.jsx(L,{})]})}export{F as default};
